(()=>{"use strict";var e={192:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(81),r=o.n(n),i=o(645),l=o.n(i),a=o(667),c=o.n(a),s=new URL(o(215),o.b),u=l()(r()),d=c()(s);u.push([e.id,`@font-face{font-family:"fontello";src:url(${d}) format("woff");font-weight:normal;font-style:normal}body{background:#cadab4;font-family:Arial,Helvetica,sans-serif}h1{padding-left:20px;color:#503}.board-grid{margin:20px;width:600px;display:grid;grid-gap:0px;color:#444}#output{position:absolute;top:46px;right:35px;width:400px}#output #log{width:100%;color:#668240;padding:10px;font-size:.8em;height:400px;border:1px solid #b2c992;margin-bottom:20px}.cell{display:inline-block;width:30px;height:30px;border:1px solid #ccc;border-top-color:#fff;border-left-color:#fff;background-color:#dbe6cc;text-align:center;box-sizing:border-box;cursor:pointer}.cell.highlight{background-color:#d8e160}.cell.highlight.open{background-color:#cdd935}.cell.open{border:1px solid #b2c992;border-top-color:#a8c284;border-left-color:#a8c284;background-color:#b2c992}.cell.open .count{opacity:1}.cell .count{padding-top:.35em;display:inline-block;font-family:monospace;font-size:1.2em;font-weight:bold;pointer-events:none;opacity:.1}[class^=icon-].open:before,[class*=icon-].open:before{opacity:1}[class^=icon-]:before,[class*=" icon-"]:before{font-family:"fontello";font-style:normal;font-weight:normal;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;pointer-events:none;font-variant:normal;text-transform:none;line-height:1em;margin-left:.3em;margin-top:.3em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-flag:before{content:"";color:#10468d}.icon-bomb:before{content:"";color:#a81818}`,""]);const f=u},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(l[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);n&&l[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),o&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=o):u[2]=o),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},404:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(379),r=o.n(n),i=o(795),l=o.n(i),a=o(569),c=o.n(a),s=o(565),u=o.n(s),d=o(216),f=o.n(d),p=o(589),h=o.n(p),g=o(192),m={};m.styleTagTransform=h(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=l(),m.insertStyleElement=f(),r()(g.Z,m);const v=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var i={},l=[],a=0;a<e.length;a++){var c=e[a],s=n.base?c[0]+n.base:c[0],u=i[s]||0,d="".concat(s," ").concat(u);i[s]=u+1;var f=o(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=r(p,n);n.byIndex=a,t.splice(a,0,{identifier:d,updater:h,references:1})}l.push(d)}return l}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var i=n(e=e||[],r=r||{});return function(e){e=e||[];for(var l=0;l<i.length;l++){var a=o(i[l]);t[a].references--}for(var c=n(e,r),s=0;s<i.length;s++){var u=o(i[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},569:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},75:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Autosolver=void 0;var o=function(){function e(e,t,o){var n=this;this.game=e,this.logout=t,this.nextButton=o,this.log("Autosolver first click"),this.game.clickHandler(10,10,!1),this.nextButton.addEventListener("click",(function(e){n.next()})),this.log("Mark open cells with number"),this.next()}return e.prototype.findEqualCount=function(e){var t=this;return this.findOpenWithNumber().map((function(e){return{col:e[0],row:e[1],cell:t.game.model.getCell(e[0],e[1]),surrounding:[{row:0,col:0}]}})).filter((function(o){var n=t.game.model.getSurroundingCells(o.col,o.row),r=n.map((function(e){return t.game.model.getCell(e.col,e.row)}));return o.surrounding=n,r.filter((function(t){return e(t)})).length==o.cell.count}))},e.prototype.findOpenWithNumber=function(){var e=this.game.getMinefield(),t=[];return e.cells.forEach((function(o,n){if(o.open&&o.count>0){var r=n%e.cols,i=Math.floor(n/e.rows);t.push([r,i])}})),t},e.prototype.next=function(){var e=this;this.log("Mark obvious bombs"),this.findEqualCount((function(e){return!e.open})).forEach((function(t){return t.surrounding.forEach((function(t){return e.game.model.toggleFlagged(t.col,t.row,!0)}))})),this.game.model.cells.forEach((function(e){return e.highlighted=!1})),this.log("Open obvious non-bombs"),this.findEqualCount((function(e){return e.flagged})).forEach((function(t){t.surrounding.filter((function(t){var o=e.game.model.getCell(t.col,t.row);return!o.flagged&&!o.open})).forEach((function(t){e.game.clickHandler(t.col,t.row,!1),e.game.mark(t.col,t.row)}))})),this.game.board.setMineField(this.game.model.getMinefield())},e.prototype.log=function(e){this.logout.innerText+=e+"\n"},e}();t.Autosolver=o},336:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Board=void 0;var o=function(){function e(e,t,o,n){this.demoMode=!1,this.cells=[],this.cols=t,this.rows=o,this.target=e,this.clickClb=n,this.generateBoard(t,o)}return e.prototype.setMineField=function(e){var t=this;e.cells.forEach((function(e,o){var n=["cell"];e.flagged&&n.push("icon-flag"),e.open&&n.push("open"),e.highlighted&&n.push("highlight");var r=t.cells[o];if(r.className=n.join(" "),r.innerHTML=" ",e.count>0&&!e.mine&&e.open){var i=document.createElement("span");i.className="count",i.innerText=e.count.toString(),r.appendChild(i)}}))},e.prototype.generateBoard=function(e,t){this.target.style.gridTemplateColumns="repeat(".concat(e,", 30px)");for(var o=0;o<t*e;o++){var n=this.createCell(o);this.cells.push(n),this.target.append(n)}},e.prototype.createCell=function(e){var t=this,o=document.createElement("div");if(o.className="cell",o.setAttribute("i",e.toString()),this.demoMode&&Math.random()>.2)if(Math.random()>.2){var n=Math.random()>.5?"icon-flag":"icon-bomb";o.innerHTML="<i class='".concat(n,"'></i>")}else o.innerHTML="<span class='count'>".concat(Math.ceil(7*Math.random()).toString(),"</span>");return o.addEventListener("click",(function(e){return t.cellClickHandler(e,!1)})),o.addEventListener("contextmenu",(function(e){return t.cellClickHandler(e,!0)})),o},e.prototype.cellClickHandler=function(e,t){var o=e.currentTarget,n=parseInt(o.getAttribute("i")),r=this.getCoordinates(n),i=r.col,l=r.row;this.clickClb(i,l,t),e.preventDefault()},e.prototype.getCoordinates=function(e){return{col:e%this.cols,row:Math.floor(e/this.rows)}},e}();t.Board=o},221:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var n=o(336),r=o(453),i=function(){function e(e){this.boardContainer=e,this.initGame()}return e.prototype.initGame=function(){var e=this;this.difficulty=.12,this.model=new r.Model(20,20),this.boardContainer.innerHTML="",this.isFirstClick=!0,this.board=new n.Board(this.boardContainer,20,20,(function(t,o,n){return e.clickHandler(t,o,n)}))},e.prototype.getMinefield=function(){return this.model.getMinefield()},e.prototype.mark=function(e,t){this.model.getCell(e,t).highlighted=!0,this.board.setMineField(this.model.getMinefield())},e.prototype.clickHandler=function(e,t,o,n){this.isFirstClick&&(this.model.distributeMines({col:e,row:t},this.difficulty),this.board.setMineField(this.model.getMinefield()),this.isFirstClick=!1),o?this.model.toggleFlagged(e,t,n):this.model.setAsOpen(e,t)?(alert("You bombed out!"),this.initGame()):this.model.numMines===this.model.numClosedCells&&(alert("Congrats, you won!"),this.initGame()),this.board.setMineField(this.model.getMinefield())},e}();t.Game=i},453:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var o=function(){function e(e,t){this.cells=[],this.cols=e,this.rows=t;for(var o=e*t;o--;)this.cells.push({mine:!1,count:0,open:!1,flagged:!1,highlighted:!1})}return e.prototype.getCell=function(e,t){return this.cells[e+t*this.cols]},e.prototype.getSurroundingCells=function(e,t){var o=[];if(e<0||t<0||e>=this.cols||t>=this.rows)return o;var n=0===t,r=t===this.rows-1,i=0===e,l=e===this.cols-1;function a(n){i||o.push({col:e-1,row:t+n}),o.push({col:e,row:t+n}),l||o.push({col:e+1,row:t+n})}return n||a(-1),a(0),r||a(1),o},e.prototype.toggleFlagged=function(e,t,o){var n=this.getCell(e,t);n.open||(n.flagged=void 0!==o?o:!n.flagged)},e.prototype.setAsOpen=function(e,t){var o=this,n=this.getCell(e,t);return!!n.mine||(n.open||(n.open=!0,0===n.count&&this.getSurroundingCells(e,t).forEach((function(e){return o.setAsOpen(e.col,e.row)}))),!1)},e.prototype.countSurroundingMines=function(e,t){var o=this,n=0;return this.getSurroundingCells(e,t).forEach((function(e){var t=o.getCell(e.col,e.row);t||console.log("no cell!",e.col,e.row),t.mine&&n++})),n},Object.defineProperty(e.prototype,"numMines",{get:function(){return this._numMines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numClosedCells",{get:function(){return this.cells.reduce((function(e,t){return(t.open?0:1)+e}),0)},enumerable:!1,configurable:!0}),e.prototype.distributeMines=function(e,t){var o=this;void 0===t&&(t=.1);for(var n=this.cols,r=this.rows,i=this._numMines=Math.floor(n*r*t);i>0;){var l=this.getRandomInt(n),a=this.getRandomInt(r);if(!(l>=e.col-1&&l<=e.col+1&&a>=e.row-1&&a<=e.row+1)){var c=this.getCell(l,a);c.mine||(c.mine=!0,i--)}}this.cells.forEach((function(e,t){return e.count=o.countSurroundingMines(t%n,Math.floor(t/r))}))},e.prototype.getMinefield=function(){return{cols:this.cols,rows:this.rows,cells:this.cells}},e.prototype.getRandomInt=function(e){return Math.floor(Math.random()*e)},e}();t.Model=o},215:(e,t,o)=>{e.exports=o.p+"c1ea6d220bcfe2f74f4e.woff?24106187"}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,o),i.exports}o.m=e,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),o.b=document.baseURI||self.location.href,o.nc=void 0,(()=>{o(404);var e,t=o(221),n=o(75);e=new t.Game(document.getElementById("board")),"true"==new URL(window.location.href).searchParams.get("auto").toLowerCase()&&new n.Autosolver(e,document.getElementById("log"),document.getElementById("next"))})()})();